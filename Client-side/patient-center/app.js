!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=function(a,b){return{request:function(b){var c=sessionStorage.getItem("medicloud_user_credentials");return c&&(b.headers.Authorization="Basic "+c),b||a.when(b)},responseError:function(b){return console.log("Found responseError: ",b),401==b.status&&(console.log("Access denied (error 401), please login again"),window.location.href="/sign-in/"),a.reject(b)}}}},{}],2:[function(a,b,c){!function(){var b=a("./configuration"),c=a("./calendar"),d=a("./profile/profile-view.directive"),e=a("./profile/profile-edit.directive"),f=a("./appointment-modal/modal.directive"),g=a("./profile/profile.factory"),h=a("./health-professionals/hp-list.factory"),i=a("./encounters/encounter-list.factory"),j=a("./model.service"),k=a("./main.controller"),l=a("./profile/profile.controller"),m=a("./health-professionals/health-professionals-directory.controller"),n=a("./encounters/encounters.controller"),o=angular.module("patientCenter",["ngRoute","ngResource","ngAnimate"]);o.config(["$routeProvider","$httpProvider",b]),o.directive("calendar_directive",c).directive("appointmentModal_directive",f).directive("patientCenterProfileView",d).directive("patientCenterProfileEdit",e),o.factory("patientCenter_profile_factory",["$resource",g]).factory("patientCenter_hpList_factory",["$resource",h]).factory("patientCenter_encounterList_factory",["$resource",i]),o.service("patientCenter_model_service",["$resource","patientCenter_profile_factory","patientCenter_hpList_factory","patientCenter_encounterList_factory",j]),o.controller("patientCenter_main_controller",["$scope","patientCenter_model_service",k]).controller("patientCenter_profile_controller",["$scope","$filter","patientCenter_model_service",l]).controller("patientCenter_healthProfessionalsDirectory_controller",["$scope","patientCenter_model_service",m]).controller("patientCenter_encounterList_controller",["$scope","patientCenter_model_service",n])}()},{"./appointment-modal/modal.directive":3,"./calendar":4,"./configuration":5,"./encounters/encounter-list.factory":6,"./encounters/encounters.controller":7,"./health-professionals/health-professionals-directory.controller":8,"./health-professionals/hp-list.factory":9,"./main.controller":10,"./model.service":11,"./profile/profile-edit.directive":12,"./profile/profile-view.directive":13,"./profile/profile.controller":14,"./profile/profile.factory":15}],3:[function(a,b,c){b.exports=function(){return{restrict:"E",scope:{show:"=",submit:"="},replace:!0,transclude:!0,link:function(a,b,c){$(document).on("dblclick",function(){console.log("scope.show is "+a.show)}),a.$watch("show",function(a){a?$(b[0]).modal("show"):$(b[0]).modal("hide")}),b.on("submit",function(){for(var c=b[0].querySelectorAll("input,select,textarea"),d=c.length;d--;)c[d].addEventListener("invalid",function(){this.scrollIntoView(!1)});var e=a.patient;e=angular.extend({},a.patient),e.birthdate=b.find("[type=date]").val(),a.submit(e)})},templateUrl:"appointment-modal/modal.html",controller:["$scope",function(a){$('[data-toggle="tooltip"]').tooltip("disable"),a.patient={firstName:"",lastName:""}}]}}},{}],4:[function(a,b,c){b.exports=function(){return{link:function(a,b,c){function d(a){a.each(function(){var a={title:$.trim($(this).text())};$(this).data("eventObject",a),$(this).draggable({zIndex:1070,revert:!0,revertDuration:0})})}d($("#external-events div.external-event"));var e=new Date,f=e.getDate(),g=e.getMonth(),h=e.getFullYear();$("#calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},buttonText:{today:"today",month:"month",week:"week",day:"day"},events:[{title:"All Day Event",start:new Date(h,g,1),backgroundColor:"#f56954",borderColor:"#f56954"},{title:"Long Event",start:new Date(h,g,f-5),end:new Date(h,g,f-2),backgroundColor:"#f39c12",borderColor:"#f39c12"},{title:"Meeting",start:new Date(h,g,f,10,30),allDay:!1,backgroundColor:"#0073b7",borderColor:"#0073b7"},{title:"Lunch",start:new Date(h,g,f,12,0),end:new Date(h,g,f,14,0),allDay:!1,backgroundColor:"#00c0ef",borderColor:"#00c0ef"},{title:"Birthday Party",start:new Date(h,g,f+1,19,0),end:new Date(h,g,f+1,22,30),allDay:!1,backgroundColor:"#00a65a",borderColor:"#00a65a"},{title:"Click for Google",start:new Date(h,g,28),end:new Date(h,g,29),url:"http://google.com/",backgroundColor:"#3c8dbc",borderColor:"#3c8dbc"}],editable:!0,droppable:!0,drop:function(a,b){var c=$(this).data("eventObject"),d=$.extend({},c);d.start=a,d.allDay=b,d.backgroundColor=$(this).css("background-color"),d.borderColor=$(this).css("border-color"),$("#calendar").fullCalendar("renderEvent",d,!0),$("#drop-remove").is(":checked")&&$(this).remove()}});var i="#3c8dbc";$("#color-chooser-btn");$("#color-chooser > li > a").click(function(a){a.preventDefault(),i=$(this).css("color"),$("#add-new-event").css({"background-color":i,"border-color":i})}),$("#add-new-event").click(function(a){a.preventDefault();var b=$("#new-event").val();if(0!=b.length){var c=$("<div />");c.css({"background-color":i,"border-color":i,color:"#fff"}).addClass("external-event"),c.html(b),$("#external-events").prepend(c),d(c),$("#new-event").val("")}}),$("[data-date]").click(function(){a.modalControl.show=!0;var b=$(this).attr("data-date");console.log("selectedDate is "+b),a.$apply()})},controller:["$scope",function(a){a.modalControl={show:!1}}]}}},{}],5:[function(a,b,c){b.exports=function(b,c){var d=a("../Shared/authorization.interceptor");b.when("/",{templateUrl:"profile/profile.html",controller:"patientCenter_profile_controller"}).when("/health-professionals",{templateUrl:"health-professionals/directory.html",controller:"patientCenter_healthProfessionalsDirectory_controller"}).when("/encounters",{templateUrl:"encounters/encounters.html",controller:"patientCenter_encounterList_controller"}).otherwise({redirectTo:"/"}),c.interceptors.push(["$q","$location",d])}},{"../Shared/authorization.interceptor":1}],6:[function(a,b,c){b.exports=function(a){var b="http://"+window.location.hostname+":8080/api/patient/:personId/encounters",c=sessionStorage.getItem("medicloud_person_id");return a(b,{personId:c})}},{}],7:[function(a,b,c){b.exports=function(a,b){a.encounters=b.encounterList,a.error="",a.waiting=!1,a.encounters=b.encounterList,a.encounters.$promise.then(function(a){},function(b){a.error=b.data.message||b.data.error||b.data||b.message||b.error||b})}},{}],8:[function(a,b,c){b.exports=function(a,b){a.error="",a.loading=!1,a.hpList=b.hpList,a.hpList.$promise.then(function(a){},function(b){a.error=b.data.message||b.data.error||b.data||b.message||b.error||b}),a.getBackgroundColor=function(a){return a%2?"bg-aqua-active":a%3?"bg-navy-active":a%4?"bg-orange-active":a%5?"bg-olive-active":a%6?"bg-maroon-active":"bg-teal-active"},console.log("health-professionals: directory.controller init.")}},{}],9:[function(a,b,c){b.exports=function(a){var b="http://"+window.location.hostname+":8080/api/patient/:personId/health-professionals",c=sessionStorage.getItem("medicloud_person_id");return a(b,{personId:c})}},{}],10:[function(a,b,c){b.exports=function(a,b){console.log("patient-center: main.controller initiated."),a.profile=b.profile,a.hpList=b.hpList,a.encounters=b.encounterList,a.signout=function(){sessionStorage.clear(),window.location.href="/sign-in/"}}},{}],11:[function(a,b,c){b.exports=function(a,b,c,d){var e=(sessionStorage.getItem("medicloud_person_id"),{profile:b.get(),saveProfile:function(a){var c=this,d=b.save(a);return d.$promise.then(function(a){d.birthdate=new Date(d.birthdate+" 00:00:00"),angular.copy(d,c.profile)}),d.$promise},hpList:c.query(),encounterList:d.query()});return e.profile.$promise.then(function(){e.profile.birthdate=new Date(e.profile.birthdate+" 00:00:00")}),e}},{}],12:[function(a,b,c){b.exports=function(){return{templateUrl:"profile/profile-edit.html",link:function(a,b,c){angular.copy(a.profile,a.formData)}}}},{}],13:[function(a,b,c){b.exports=function(){return{templateUrl:"profile/profile-view.html",link:function(a,b,c){}}}},{}],14:[function(a,b,c){b.exports=function(a,b,c){a.ready=!1,a.error="",a.mode="view",a.profile=c.profile,a.formData={},a.error="",a.loading=!1,angular.copy(a.profile,a.formData),a.toggleMode=function(b){a.mode=b},a.saveProfile=function(){a.error="",a.loading=!0;var d=angular.copy(a.formData);d.birthdate=b("date")(a.formData.birthdate,"yyyy-MM-dd"),c.saveProfile(d).then(function(b){a.loading=!1},function(b){a.loading=!1,a.error=b.data.message||b.data.error||b.data||b.message||b.error||b})},a.profile.personId&&(a.ready=!0),a.profile.$promise.then(function(b){a.ready=!0},function(b){a.error=b.data.message||b.data.error||b.message||b.error||b}),console.log("patient-center: profile.controller initiated")}},{}],15:[function(a,b,c){b.exports=function(a){var b="http://"+window.location.hostname+":8080/api/patient/:personId/profile",c=sessionStorage.getItem("medicloud_person_id");return a(b,{personId:c})}},{}]},{},[2]);