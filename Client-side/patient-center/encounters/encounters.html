<div class="box box-warning">
    <div class="box-header with-border">
        <h3 class="box-title">Visits, Encounters, and Appointments</h3> 
    </div>

    <div class="box-body">
        <h1 class="text-danger text-center" ng-if="!ready && loading"><i class="fa fa-spin fa-spinner"></i></h1>
        <div class="alert alert-danger" ng-if="error">{{ error }}</div>
        <!-- The timeline -->
        <ul class="timeline timeline-inverse ng-animate nga-default nga-stagger nga-slide-left-add"
                ng-if="ready">
            <!-- timeline time label -->
            <li class="time-label" 
            ng-repeat-start="encounter in encounters | orderBy: '-encounterDateTime'">
            <span class="bg-red">
                {{ encounter.encounterDateTime }}
            </span>
            </li>
            <!-- /.timeline-label -->
            <!-- timeline item -->
            <li ng-repeat-end>
            <i class="fa fa-user-md bg-blue"></i>
            <div class="timeline-item">
                <!--<span class="time"><i class="fa fa-clock-o"></i> {{
                observation.dateCreated }}</span>-->
                <h3 class="timeline-header">
                    <strong class="text-primary">Reason for visit:</strong> {{
                    encounter.description}} 
                </h3>
                <div class="timeline-body">
                    <strong class="text-primary">Comments by Health Professionals:</strong>
                    <pre ng-repeat="obs in encounter.observations">
{{ obs.comments }}
                    </pre>
                </div>
                <!-- 
            <div class="timeline-footer">
                    <a class="btn btn-warning btn-flat btn-xs">View comments</a>
            </div> 
            -->
            </div>
            </li>
            <li>
            <i class="fa fa-clock-o bg-gray"></i> 

            <h4 class="text-center">
                <label class="label label-warning" ng-if="loading">
                    <i class="fa fa-spin fa-spinner"></i> Loading...
                </label>
                <em class="text-muted" ng-if="encounters.length == 0 &&
                    !loading">
                    No visits recorded yet.
                </em>

            </h4>
            </li>
        </ul>

    </div>
</div>
